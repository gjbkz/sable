#!/usr/bin/env node

const program = require('commander');
const console = require('j1/console').create('sable');
const SableServer = require('..');

program
	.version(require('../package').version)
	.usage('[options] [documentRoots ...]')
	.option('-p --port <n>', 'A port number to listen HTTP request', parseInt)
	.option('-w --wsport <n>', 'A port number to listen WebSocket request', parseInt)
	.parse(process.argv);

new SableServer({
	port: program.port,
	wsport: program.wsport,
	documentRoot: program.args
})
.listen()
.catch(console.onError);
