#!/usr/bin/env node

const program = require('commander');
const console = require('j1/console').create('sable');
const SableServer = require('..');
const {version} = require('../package');

program
	.version(version)
	.usage('[options] [documentRoot1, documentRoot2, ...]')
	.option('-p --port <n>', 'A port number to which the web server listens', parseInt)
	.option('-w --wsport <n>', 'A port number to which the websocket server listens', parseInt)
	.parse(process.argv);

program.documentRoot = program.args;

new SableServer(program).start()
.catch(console.onError);
